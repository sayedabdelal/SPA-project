{"ast":null,"code":"import{Suspense}from'react';import{useLoaderData,json,defer,Await}from'react-router-dom';import EventsList from'../components/EventsList';// render data before data fetching \nimport{jsx as _jsx}from\"react/jsx-runtime\";function EventsPage(){const{events}=useLoaderData();return/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center'},children:\"Loading...\"}),children:/*#__PURE__*/_jsx(Await,{resolve:events,children:loadedEvents=>/*#__PURE__*/_jsx(EventsList,{events:loadedEvents})})});}export default EventsPage;async function loadEvents(){const response=await fetch('http://localhost:8080/events');if(!response.ok){// return { isError: true, message: 'Could not fetch events.' };\n// throw new Response(JSON.stringify({ message: 'Could not fetch events.' }), {\n//   status: 500,\n// });\nthrow json({message:'Could not fetch events.'},{status:500});}else{const resData=await response.json();return resData.events;}}export function loader(){return defer({events:loadEvents()});}// had a value transform to anther value \n/*\nuseLoaderData you can use it in all commponent except the compnent above in route define\nYou cannot use useLoaderData in the component that is directly used in the route definition itself.\n\njson .. easy to hangdle code staus\n\n\n\n when need load page before  the data is there and show part of a page orady\n */","map":{"version":3,"names":["Suspense","useLoaderData","json","defer","Await","EventsList","jsx","_jsx","EventsPage","events","fallback","style","textAlign","children","resolve","loadedEvents","loadEvents","response","fetch","ok","message","status","resData","loader"],"sources":["/home/sayed/Documents/ReactJs/redux/Redux-SPA/12-adv-starting-project/frontend/src/pages/EventsPage.js"],"sourcesContent":["import { Suspense } from 'react';\nimport { useLoaderData, json, defer, Await } from 'react-router-dom';\n\nimport EventsList from '../components/EventsList';\n\n// render data before data fetching \nfunction EventsPage() {\n  const { events } = useLoaderData();\n\n  return (\n    <Suspense fallback={<p style={{ textAlign: 'center' }}>Loading...</p>}>\n      <Await resolve={events}>\n        {(loadedEvents) => <EventsList events={loadedEvents} />}\n      </Await>\n    </Suspense>\n  );\n}\n\nexport default EventsPage;\n\nasync function loadEvents() {\n  const response = await fetch('http://localhost:8080/events');\n\n  if (!response.ok) {\n    // return { isError: true, message: 'Could not fetch events.' };\n    // throw new Response(JSON.stringify({ message: 'Could not fetch events.' }), {\n    //   status: 500,\n    // });\n    throw json(\n        { message: 'Could not fetch events.' },\n        {\n            status: 500,\n        }\n    );\n  } else {\n    const resData = await response.json();\n    return resData.events;\n  }\n}\n\nexport function loader() {\n  return defer({\n    events: loadEvents(),\n  });\n}\n// had a value transform to anther value \n\n/*\nuseLoaderData you can use it in all commponent except the compnent above in route define\nYou cannot use useLoaderData in the component that is directly used in the route definition itself.\n\njson .. easy to hangdle code staus\n\n\n\n when need load page before  the data is there and show part of a page orady\n */"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,aAAa,CAAEC,IAAI,CAAEC,KAAK,CAAEC,KAAK,KAAQ,kBAAkB,CAEpE,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CAEjD;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACA,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,KAAM,CAAEC,MAAO,CAAC,CAAGR,aAAa,CAAC,CAAC,CAElC,mBACEM,IAAA,CAACP,QAAQ,EAACU,QAAQ,cAAEH,IAAA,MAAGI,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAE,CAAAA,QAAA,cACpEN,IAAA,CAACH,KAAK,EAACU,OAAO,CAAEL,MAAO,CAAAI,QAAA,CACnBE,YAAY,eAAKR,IAAA,CAACF,UAAU,EAACI,MAAM,CAAEM,YAAa,CAAE,CAAC,CAClD,CAAC,CACA,CAAC,CAEf,CAEA,cAAe,CAAAP,UAAU,CAEzB,cAAe,CAAAQ,UAAUA,CAAA,CAAG,CAC1B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,8BAA8B,CAAC,CAE5D,GAAI,CAACD,QAAQ,CAACE,EAAE,CAAE,CAChB;AACA;AACA;AACA;AACA,KAAM,CAAAjB,IAAI,CACN,CAAEkB,OAAO,CAAE,yBAA0B,CAAC,CACtC,CACIC,MAAM,CAAE,GACZ,CACJ,CAAC,CACH,CAAC,IAAM,CACL,KAAM,CAAAC,OAAO,CAAG,KAAM,CAAAL,QAAQ,CAACf,IAAI,CAAC,CAAC,CACrC,MAAO,CAAAoB,OAAO,CAACb,MAAM,CACvB,CACF,CAEA,MAAO,SAAS,CAAAc,MAAMA,CAAA,CAAG,CACvB,MAAO,CAAApB,KAAK,CAAC,CACXM,MAAM,CAAEO,UAAU,CAAC,CACrB,CAAC,CAAC,CACJ,CACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}