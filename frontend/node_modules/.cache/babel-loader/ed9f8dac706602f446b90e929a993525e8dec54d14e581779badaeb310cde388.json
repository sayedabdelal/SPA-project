{"ast":null,"code":"import{useRouteLoaderData,json,redirect}from'react-router-dom';import EventItem from'../components/EventItem';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function EventDetailPage(){const data=useRouteLoaderData('event-detail');return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(EventItem,{event:data.event}),\";\"]});}export default EventDetailPage;export async function loader(_ref){let{request,params}=_ref;const id=params.eventId;const response=await fetch('http://localhost:8080/events/'+id);if(!response.ok){throw json({message:'Could not fetch details for selected event.'},{status:500});}else{return response;}}export async function action(_ref2){let{request,params}=_ref2;const eventId=params.eventId;const response=await fetch(\"http://localhost:8080/events/\"+eventId,{method:request.method});if(!response.ok){throw json({message:'Could not Delete Event.'},{status:500});}else{return redirect('/events');}}","map":{"version":3,"names":["useRouteLoaderData","json","redirect","EventItem","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","EventDetailPage","data","children","event","loader","_ref","request","params","id","eventId","response","fetch","ok","message","status","action","_ref2","method"],"sources":["/home/sayed/Documents/ReactJs/redux/Redux-SPA/12-adv-starting-project/frontend/src/pages/EventDetailPage.js"],"sourcesContent":["import { useRouteLoaderData, json, redirect } from 'react-router-dom';\n\nimport EventItem from '../components/EventItem';\n\nfunction EventDetailPage() {\n    const data = useRouteLoaderData('event-detail');\n\n    return <>\n        <EventItem event={data.event} />;\n        {/* <EventsList events={}/> */}\n      </>\n}\n\nexport default EventDetailPage;\n\nexport async function loader({ request, params }) {\n  const id = params.eventId;\n\n  const response = await fetch('http://localhost:8080/events/' + id);\n\n  if (!response.ok) {\n    throw json(\n      { message: 'Could not fetch details for selected event.' },\n      {\n        status: 500,\n      }\n    );\n  } else {\n    return response;\n  }\n}\n\nexport async function action({ request, params }) { \n  const eventId = params.eventId ;\n  const response = await fetch(\"http://localhost:8080/events/\" + eventId , {\n    method: request.method\n  });\n\n  if (!response.ok) {\n    throw json(\n      { message: 'Could not Delete Event.' },\n      {\n        status: 500,\n      }\n    );\n  } else {\n    return redirect('/events');\n  }\n}"],"mappings":"AAAA,OAASA,kBAAkB,CAAEC,IAAI,CAAEC,QAAQ,KAAQ,kBAAkB,CAErE,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,QAAS,CAAAC,eAAeA,CAAA,CAAG,CACvB,KAAM,CAAAC,IAAI,CAAGX,kBAAkB,CAAC,cAAc,CAAC,CAE/C,mBAAOS,KAAA,CAAAF,SAAA,EAAAK,QAAA,eACHP,IAAA,CAACF,SAAS,EAACU,KAAK,CAAEF,IAAI,CAACE,KAAM,CAAE,CAAC,IAChC,EACA,CAAC,CACT,CAEA,cAAe,CAAAH,eAAe,CAE9B,MAAO,eAAe,CAAAI,MAAMA,CAAAC,IAAA,CAAsB,IAArB,CAAEC,OAAO,CAAEC,MAAO,CAAC,CAAAF,IAAA,CAC9C,KAAM,CAAAG,EAAE,CAAGD,MAAM,CAACE,OAAO,CAEzB,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,+BAA+B,CAAGH,EAAE,CAAC,CAElE,GAAI,CAACE,QAAQ,CAACE,EAAE,CAAE,CAChB,KAAM,CAAArB,IAAI,CACR,CAAEsB,OAAO,CAAE,6CAA8C,CAAC,CAC1D,CACEC,MAAM,CAAE,GACV,CACF,CAAC,CACH,CAAC,IAAM,CACL,MAAO,CAAAJ,QAAQ,CACjB,CACF,CAEA,MAAO,eAAe,CAAAK,MAAMA,CAAAC,KAAA,CAAsB,IAArB,CAAEV,OAAO,CAAEC,MAAO,CAAC,CAAAS,KAAA,CAC9C,KAAM,CAAAP,OAAO,CAAGF,MAAM,CAACE,OAAO,CAC9B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,+BAA+B,CAAGF,OAAO,CAAG,CACvEQ,MAAM,CAAEX,OAAO,CAACW,MAClB,CAAC,CAAC,CAEF,GAAI,CAACP,QAAQ,CAACE,EAAE,CAAE,CAChB,KAAM,CAAArB,IAAI,CACR,CAAEsB,OAAO,CAAE,yBAA0B,CAAC,CACtC,CACEC,MAAM,CAAE,GACV,CACF,CAAC,CACH,CAAC,IAAM,CACL,MAAO,CAAAtB,QAAQ,CAAC,SAAS,CAAC,CAC5B,CACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}